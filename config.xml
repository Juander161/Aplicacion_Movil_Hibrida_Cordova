<?xml version='1.0' encoding='utf-8'?>
<widget id="com.veterinaria.patitasfelices" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:cdv="http://cordova.apache.org/ns/1.0">
    <name>Patitas Felices</name>
    <description>Aplicación móvil para la gestión de la clínica veterinaria Patitas Felices</description>
    <author email="admin@clinica.com" href="https://patitasfelices.com">
        Clínica Veterinaria Patitas Felices
    </author>
    <content src="www/index.html" />
    <access origin="*" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    <allow-navigation href="*" />
    <allow-navigation href="http://localhost:3000/*" />
    <allow-navigation href="http://127.0.0.1:5500/*" />
    <allow-navigation href="http://192.168.1.100:3000/*" />
    <allow-navigation href="https://tu-servidor.com/*" />
    <allow-navigation href="https://fonts.googleapis.com/*" />
    <allow-navigation href="https://fonts.gstatic.com/*" />
    <allow-navigation href="https://cdnjs.cloudflare.com/*" />
    <allow-navigation href="https://kit.fontawesome.com/*" />
    
    <!-- Content Security Policy -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com https://kit.fontawesome.com; font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com https://kit.fontawesome.com; img-src 'self' data: https:; connect-src 'self' https://tu-servidor.com http://localhost:3000 http://127.0.0.1:5500 https://api.patitasfelices.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://kit.fontawesome.com; object-src 'none'; media-src 'self'; frame-src 'self';" />
    
    <!-- Configuración para Android -->
    <platform name="android">
        <allow-intent href="market:*" />
        <icon density="ldpi" src="www/img/icon-36x36.png" />
        <icon density="mdpi" src="www/img/icon-48x48.png" />
        <icon density="hdpi" src="www/img/icon-72x72.png" />
        <icon density="xhdpi" src="www/img/icon-96x96.png" />
        <icon density="xxhdpi" src="www/img/icon-144x144.png" />
        <icon density="xxxhdpi" src="www/img/icon-192x192.png" />
        <splash density="land-ldpi" src="www/img/splash-320x426.png" />
        <splash density="land-mdpi" src="www/img/splash-320x470.png" />
        <splash density="land-hdpi" src="www/img/splash-480x640.png" />
        <splash density="land-xhdpi" src="www/img/splash-720x960.png" />
        <splash density="land-xxhdpi" src="www/img/splash-960x1280.png" />
        <splash density="land-xxxhdpi" src="www/img/splash-1280x1920.png" />
        <splash density="port-ldpi" src="www/img/splash-426x320.png" />
        <splash density="port-mdpi" src="www/img/splash-470x320.png" />
        <splash density="port-hdpi" src="www/img/splash-640x480.png" />
        <splash density="port-xhdpi" src="www/img/splash-960x720.png" />
        <splash density="port-xxhdpi" src="www/img/splash-1280x960.png" />
        <splash density="port-xxxhdpi" src="www/img/splash-1920x1280.png" />
    </platform>
    
    <!-- Configuración para iOS -->
    <platform name="ios">
        <allow-intent href="itms:*" />
        <allow-intent href="itms-apps:*" />
        <icon height="57" src="www/img/icon-57x57.png" width="57" />
        <icon height="114" src="www/img/icon-114x114.png" width="114" />
        <icon height="40" src="www/img/icon-40x40.png" width="40" />
        <icon height="80" src="www/img/icon-80x80.png" width="80" />
        <icon height="120" src="www/img/icon-120x120.png" width="120" />
        <icon height="180" src="www/img/icon-180x180.png" width="180" />
        <icon height="60" src="www/img/icon-60x60.png" width="60" />
        <icon height="76" src="www/img/icon-76x76.png" width="76" />
        <icon height="152" src="www/img/icon-152x152.png" width="152" />
        <icon height="167" src="www/img/icon-167x167.png" width="167" />
        <icon height="1024" src="www/img/icon-1024x1024.png" width="1024" />
        <splash height="1136" src="www/img/splash-640x1136.png" width="640" />
        <splash height="1334" src="www/img/splash-750x1334.png" width="750" />
        <splash height="2208" src="www/img/splash-1242x2208.png" width="1242" />
        <splash height="2436" src="www/img/splash-1125x2436.png" width="1125" />
        <splash height="2732" src="www/img/splash-2048x2732.png" width="2048" />
    </platform>
    
    <!-- Configuración para Browser -->
    <platform name="browser">
        <icon height="32" src="www/img/icon-32x32.png" width="32" />
        <icon height="48" src="www/img/icon-48x48.png" width="48" />
        <icon height="128" src="www/img/icon-128x128.png" width="128" />
    </platform>
    
    <!-- Configuración de plugins -->
    <plugin name="cordova-plugin-whitelist" spec="^1.3.5" />
    <plugin name="cordova-plugin-statusbar" spec="^3.0.0" />
    <plugin name="cordova-plugin-splashscreen" spec="^6.0.1" />
    <plugin name="cordova-plugin-device" spec="^2.1.0" />
    <plugin name="cordova-plugin-file" spec="^8.0.0" />
    <plugin name="cordova-plugin-network-information" spec="^3.0.0" />
    
    <!-- Configuración de preferencias -->
    <preference name="SplashScreen" value="screen" />
    <preference name="SplashScreenDelay" value="3000" />
    <preference name="FadeSplashScreenDuration" value="500" />
    <preference name="ShowSplashScreenSpinner" value="true" />
    <preference name="AutoHideSplashScreen" value="true" />
    <preference name="DisallowOverscroll" value="true" />
    <preference name="android-minSdkVersion" value="22" />
    <preference name="android-targetSdkVersion" value="33" />
    <preference name="GradlePluginKotlinEnabled" value="true" />
    <preference name="GradlePluginKotlinVersion" value="1.7.10" />
    <preference name="GradlePluginKotlinCodeStyle" value="official" />
    <preference name="GradlePluginGoogleServicesEnabled" value="false" />
    
    <!-- Configuración de permisos para Android -->
    <config-file target="AndroidManifest.xml" parent="/manifest">
        <uses-permission android:name="android.permission.INTERNET" />
        <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
        <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
        <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
        <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    </config-file>
    
    <!-- Configuración de permisos para iOS -->
    <config-file target="*-Info.plist" parent="NSAppTransportSecurity">
        <key>NSAllowsArbitraryLoads</key>
        <true/>
        <key>NSExceptionDomains</key>
        <dict>
            <key>localhost</key>
            <dict>
                <key>NSExceptionAllowsInsecureHTTPLoads</key>
                <true/>
            </dict>
            <key>192.168.1.100</key>
            <dict>
                <key>NSExceptionAllowsInsecureHTTPLoads</key>
                <true/>
            </dict>
        </dict>
    </config-file>
</widget>
